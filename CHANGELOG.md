# 更新紀錄

## v0.9.14a - 幻影分身視覺強化與咒言圈重構

### 分身視覺效果
- **平時暗紫色**：分身初始及非嘲諷狀態改為暗紫色（原本灰色）
- **嘲諷狀態**：緩和閃爍紅橘色漸變（原本紅白高速閃爍）
- **顏色過渡**：使用正弦波平滑過渡紅色至橘色

### 咒言圈重構
- **快速呼吸**：2-3 單位範圍快速脈動縮放
- **傷害減半**：咒言圈傷害改為基礎傷害的 50%
- **DOT 觸發**：命中時 10% + 每級 1% 機率觸發燃燒 DOT（5 秒，20% 傷害）
- **打擊特效**：新增暗紫色火花 + 圓環擴散特效
- **轉移效果**：結束時飛向另一個分身並放大消失

### 分身技能調整
- **移除技能**：分身不再施放燃燒賽璐珞、像素審判（函數保留）
- **保留技能**：分身只施放技術美術大神
- **DOT 來源**：燃燒 DOT 改由咒言圈觸發

---

## v0.9.13a - 水坑視差背景挖洞系統

### 地板挖洞系統
- **RenderTexture 挖洞**：灰色地板使用 RenderTexture + erase() 實現挖洞效果
- **形狀匹配**：洞的形狀與水坑 sprite 不透明區域完全一致（使用 sprite alpha 通道）
- **視差可見**：透過洞可以看到底層視差背景（4 倍大小，隨鏡頭比例移動）

### 水坑圖片配置
- **固定水坑**：出生點旁邊的測試水坑使用 0 號圖（water_00.png）
- **隨機水坑**：15-20 個隨機水坑使用 1-5 號圖（water_01~05.png）
- **圖片載入**：預載入 0-5 號共 6 張水坑圖片

### 城市背景隨機化
- **5 張背景圖**：預載入 bg_city_01~05.png
- **隨機選擇**：每次遊戲開始時隨機選擇一張作為視差背景

### 水坑碰撞精確化
- **像素級碰撞**：使用 `textures.getPixelAlpha()` 讀取水坑紋理 alpha 值
- **精確判定**：碰撞區域精確對應水坑的不透明區域
- **角色碰撞**：只用腳底小圓（characterSize × 15%）

### 平衡調整
- **史萊姆速度**：1.8 → 1.2 單位/秒（減速 33%）
- **零信任倍率**：每 1 秒 → 每 0.5 秒 +1 倍（變粗加傷更快）

### UI 描述更新
- **進階技能描述**：更新所有 8 個組合技能的描述以符合實際實作

---

## v0.9.12a - 地板障礙物與狀態效果系統

### 地板障礙物系統
- **水坑障礙物**：隨機生成 15~20 個水坑散佈地圖
- **隨機尺寸**：3~8 單位大小
- **碰撞檢測**：角色無法穿越障礙物不透明區域（70% 半徑）
- **滑動移動**：撞到時自動嘗試單軸滑動，不會完全卡住
- **安全區域**：角色起始位置周圍不生成障礙物
- **視覺效果**：30% 透明度顯示

### 燃燒狀態效果修正
- **分身燃燒**：幻影版燃燒的賽璐珞現在正確附加燃燒 DOT
- **燃燒機率**：10% + 每級 1%（與本尊相同）
- **AOE 透明度**：燃燒爆炸效果透明度降低至 30%

### 統一狀態效果系統
- **StatusEffect 介面**：統一管理昏眩、燃燒等狀態
- **狀態方法**：applyStatusEffect、hasStatusEffect、getStatusEffect、clearStatusEffect
- **自動清理**：過期狀態效果自動移除

---

## v0.9.11a - 菁英怪血球掉落系統

### 菁英怪系統
- **定義**：10 等生成的強化怪物定義為菁英怪（elite_slime）
- **血量加成**：菁英怪 HP 為一般怪物的 3 倍
- **BOSS 預留**：BOSS 會另外設計

### 血球掉落系統
- **掉落數量**：菁英怪死亡時隨機掉落 2-3 個血球
- **回復效果**：每個血球回復 10% 最大 HP
- **散落範圍**：血球散落在死亡地點附近 0.5 單位內
- **視覺效果**：粉紫色愛心形狀（0xcc66ff）
- **浮動動畫**：血球會輕微上下浮動
- **永久存在**：血球不會消失，直到被拾取

### 拾取系統
- **基礎拾取範圍**：1 單位
- **視網膜增強模組加成**：每級 +0.5 單位拾取範圍（Lv.0=0.5, Lv.5=3）
- **技能說明更新**：視網膜增強模組說明顯示完整效果（經驗 +30%/級、拾取 +0.5/級）

### 組合技能等級統一
- **等級起始統一**：組合技能改為從 Lv.0 開始（與一般技能一致）
- **顯示修正**：首次獲得顯示 `NEW → Lv.0`（原本錯誤顯示 `Lv.-1`）
- **升級路徑**：Lv.0 → Lv.1 → ... → Lv.5（MAX）
- **效果說明**：Lv.0 = 無技能等級加成，僅角色等級加成

### 咒言幻象（遊戲先知）調整
- **初始範圍 +1**：從 2 單位提升至 3 單位
- **升級加成**：每級 +0.5 單位（Lv.0=3, Lv.5=5.5）

### 技術修正
- **顯示層級**：血球 depth 設為 52（怪物網格之上、角色之下）
- **貼圖生成修正**：愛心繪製在紋理中心，確保正確顯示

### 架構改進：事件驅動掉落系統
- **怪物死亡回調**：新增 `onMonsterKilled` 回調機制
- **集中處理**：掉落邏輯由 `handleMonsterDeath` 統一處理
- **解耦技能與掉落**：技能不再手動呼叫掉落，由怪物系統自動觸發
- **易於擴展**：未來新增 BOSS 掉落或其他掉落物只需修改一處

---

## v0.9.8a - 效能優化與技能選擇修正

### 怪物系統效能優化
- **數量上限**：最多 200 隻怪物同時存在
- **傳送機制**：超出可視區域 2 單位的怪物傳送回畫面邊緣
- **動態生成**：根據怪物缺口自動加速生成
  - 缺口 > 100：每 0.5 秒生成
  - 缺口 50-100：每 1 秒生成
  - 缺口 < 50：每 2 秒生成（正常）

### 怪物強度調整
- HP 成長率：10% → 12% 每級
- 70 級後強化倍率：每 5 級 +10% → +15%
- 史萊姆速度：1.0 → 1.8 單位/秒（+80%）
- BOSS 速度：0.6 → 1.0 單位/秒（+67%）

### 技能選擇修正
- 新增**待分配技能點數**機制
- 連續升級不再造成暫停卡死
- 選完技能後自動顯示下一個待分配面板

### DEBUG 模式
- 按下 `Ctrl + ~` 開啟/關閉 DEBUG 顯示
- 顯示：FPS、怪物數量、玩家/鏡頭位置、遊戲時間、等級、HP、護盾、待分配點數

### 排行榜優化
- 面板使用固定螢幕 padding（上下 40px、左右 20px）
- 每頁顯示數量根據視窗高度動態計算
- 視窗 resize 時自動重新渲染

### 其他修正
- 修正技能點選太快導致暫停卡死問題
- 修正箭頭鍵移動支援（WASD + 方向鍵）
- 新增虛擬搖桿（滑鼠拖曳/觸控）

---

## v0.9.7a - 邊緣警告與虛擬搖桿

### 邊緣波浪警告
- 地圖邊緣可視時，附近地板字變色警告
- 紅到橘色漸層，波浪式隨機擴散
- 6-10 格長度，每 16ms 生成 3-5 個波浪

### 虛擬搖桿
- 滑鼠拖曳和觸控使用虛擬搖桿控制
- 點擊位置顯示搖桿基座和控制球
- 支援 360 度方向移動

### 操作改進
- 新增方向鍵移動（UP/DOWN/LEFT/RIGHT）
- 與 WASD 同時支援

---

## v0.9.6a - 死亡結算與彈出視窗優化

### 彈出視窗完整暫停機制
- 開啟彈出視窗時遊戲完全暫停
- 阻擋所有鍵盤輸入（包含 1/2/3 技能選擇鍵）
- 阻擋滑鼠/觸控操作
- 阻擋技能發動（主動技能、進階技能）
- 分身技能、嘲諷機制等計時器暫停
- 使用 popupStateChange 事件同步 UI 與遊戲狀態

### 死亡結算視窗
- 玩家死亡後 2 秒彈出結算視窗
- 顯示存活時間、最高等級、受到傷害統計
- 輸入暱稱（最多 12 字）
- 所屬陣營下拉選單（校名清單，支援快速過濾）
- 「登錄排行榜」提交紀錄
- 「跳過」直接重新開始

### 傷害追蹤系統
- 新增 totalDamageReceived 累計受傷統計
- 傳送死亡事件給 UI 層

### 無傷神話排行榜門檻
- 需達到 Lv.75 才能登錄「無傷神話」排行榜
- 75 級之前的傷害仍照常計算
- 頁籤標示「Lv.75+ 限定」

---

## v0.9.5a - 排行榜系統完善

### 排行榜三大頁籤
- **不朽傳說**（支撐時間）：存活越久排名越高
- **巔峰霸主**（最高等級）：等級越高排名越高
- **無傷神話**（最少傷害）：受傷越少排名越高

### 排行榜功能
- 每頁顯示 10 名，最多顯示前 100 名
- 上下翻頁按鈕（X 按鈕左右）
- 前三名特殊顏色標示（金/銀/銅）
- 頁籤切換即時更新
- 預留 gameRecordUpdate 事件接口

---

## v0.9.4a - 排行榜與說明視窗

### 左側新增按鈕
- 排行榜按鈕（星星圖示）
- 說明按鈕（問號圖示）

### 彈出視窗系統
- 點擊按鈕開啟對應彈出視窗
- 深色半透明背景遮罩
- 視窗正中央顯示內容
- 底部圓形紅色關閉按鈕 (X)
- 點擊背景也可關閉
- 淡入淡出動畫效果

### 說明視窗內容
- 操作方式：移動、技能說明
- 遊戲目標：消滅怪物、升級、存活
- 遊戲提示：護盾、HP 機制

---

## v0.9.3a - GAME OVER 流程與介面優化

### GAME OVER 流程完善
- 角色、怪物、UI 介面全部隱藏
- 所有操作鎖定（移動、技能施放等）
- 背景地板字持續運作
- 每隔 5 秒觸發紫色呼吸型圓形掃光（擴散→收縮→爆發）

### 介面調整
- 手機版預設網格倍率改為 3x
- 隱藏網格倍率調整介面
- 新增靜音按鈕（音量控制下方）
  - 點擊切換靜音/取消靜音
  - 靜音時按鈕變紅、圖示改為靜音符號
  - 取消靜音時恢復先前音量

---

## v0.9.2a - GAME OVER 與升級機制調整

### GAME OVER 點陣字系統
- HP 歸零時顯示 GAME OVER 點陣字
- 使用地板 hex 字元拼出文字（7×9 點陣，2 格粗筆畫）
- 斜向與地板字一致（右上左下）
- 上排 GAME 往左、下排 OVER 往右各錯開一個字寬
- 紅色字元 + 閃爍效果（隨機換字、亮度抖動、紅白閃爍）
- 角色變灰、怪物停止生成

### 升級機制調整
- 升級不再回滿 HP
- 只增加多出來的最大 HP 值（例：150/200 升級後變 200/250）

### 分身完美像素審判修正
- 爆炸效果改用完整視覺（核心、光環、十字閃光、擴散圓環）
- 新增暗紫色版 `showPhantomPerfectPixelExplosion`
- 被擊中怪物噴出暗紫色爆炸火花

---

## v0.9.1a - 掃光效果強化與分身暗化

### 分身技能暗紫色化
- 所有分身施放的技能改用暗紫色主色 (`0x5522aa`)
- 分身技能範圍縮小（與燃燒的賽璐珞同樣設計）
  - 技術美術大神：範圍 5→3 單位，爆炸 3→2 單位
  - 完美像素審判：爆炸 3→2 單位，偏移 2→1.5 單位
  - 爆發的影視特效：導彈漸層改為暗紫色系
  - 絕對邏輯防禦：軌道 2→1.5 單位，刀刃 0.5→0.4 單位
- 分身本體、殘影、消失特效統一暗紫色

### 掃光效果系統
- **受傷紅色掃光**：受傷時地面文字散出兩圈紅色掃光（紅→白漸變），6 單位範圍
- **護盾金色呼吸掃光**：開盾時金色呼吸型掃光
  - 擴散階段：向外擴散 3.5 單位
  - 收縮階段：快速收回中心（2.5 倍速），顏色轉白
  - 爆發階段：高速散開 8 單位（3 倍速）
- **升級藍色呼吸掃光**：升級時藍色呼吸型掃光
  - 擴散 4 單位 → 收縮（3 倍速）→ 爆發 10 單位（3.5 倍速）

### 背景 Hex 密度調整
- 最大數量：150 → 500 個
- 格子大小：4% → 2.5% 畫面高度
- 每幀生成：10 → 20 個
- 統一使用 `FLOOR_HEX_GRID_SIZE` 常數

### 圓形擴散（洪水填充）調整
- 範圍加倍：2-5 單位 → 4-10 單位
- 淡入時間加快：1-3 秒 → 0.3-0.7 秒
- 存活時間縮短：2-5 秒 → 0.5-1.5 秒

---

## v0.9.0a - 地板 Hex 背景系統

### Hex 字元系統重構
- 白色圖片 + tint 染色控制
- 正常顏色：暗駭客綠（`0x1a5a1a`）
- 高亮顏色：白色（`0xffffff`）
- 平行四邊形傾斜顯示（skewFactor 0.25）
- 70px 字體，5px padding
- 圖片移至 `effects/hex/` 資料夾

### 字元生成規則
- 30% 機率使用 16 進制（0-9, A-F）
- 70% 機率使用二進制（0, 1）

### 淡入淡出系統
- 淡入時間：1-2 秒隨機
- 存活時間：1-3 秒隨機（完全顯現後計算）
- Sprite 物件池管理

### 圓形擴散系統
- 每 5 秒觸發，5 個隨機起點
- 範圍隨機 2-5 單位（1單位 = 10% 畫面高度）
- 歐幾里得距離半徑擴散
- 擴散速度隨機 40-100ms 每環
- 畫面外 20% 緩衝區避免切割線

### 掃光效果
- **橫向掃光**：每 30 秒，從左到右
  - 寬度：15% 畫面寬度
  - 速度：每秒 30% 畫面寬度
- **圓形掃光**：每 10 秒，從角色向外擴散
  - 環寬度：10% 畫面高度
  - 速度：每秒 80% 畫面高度
  - 最大半徑：150% 畫面高度
- 掃光時 tint 漸變為白色高亮

---

## v0.8.13a - 遊戲先知平衡與地板視覺

### 遊戲先知（咒言幻象）平衡調整
- 冷卻時間：1.5 秒 → 2 秒
- 傷害提高 1 倍（每級 +2 傷害）

### 疾光狙擊 MAX 效果改進
- MAX 時改為 3 條精準鎖定射線（原本 6 條隨機）
- 射線粗度 10 倍，射程提升至 15 單位

### 地板視覺系統
- 背景色改為 `#111111` 深灰
- 隨機生成十六進位字元（0-9, A-F）協助空間定位
- 斜體駭客綠字型（`#2a8a2a`）
- 150 個字元上限，2 秒淡入淡出生命週期
- 只在角色周圍 2 倍螢幕範圍內生成
- Text 物件池回收再利用

---

## v0.8.12a - 衝擊波打擊感修正

### 靈魂渲染 MAX - 衝擊波

#### 打擊反饋
- 新增飛行期間傷害視覺效果
- 每 0.3 秒執行一次飛行區域傷害判定
- 命中時顯示藍色方向性火花（3 條）
- 多隻命中觸發畫面震動

---

## v0.8.11a - 護盾特效重構與零信任重新設計

### 護盾特效系統

#### 持續護盾光環
- 腳底橢圓改用 `sector_360` 紋理壓扁（scaleY = scaleX * 0.35）
- 金色半透明效果，跟隨角色移動
- 護盾消失時自動隱藏

#### 上升光粒子（LINE 紋理）
- 從 fillRect 方塊改為 LINE 紋理物件池
- 寬度：24-40px，起始長度 0.2 單位
- 上升距離：1.2 單位，拉長至 0.6 單位
- 高速上升 + 拉長 + 淡出動畫

#### 護盾發動/爆炸特效
- 粒子寬度：20-36px
- 上升高度：2.0-3.5 單位
- 起始 Y 隨機錯開（修正一橫排問題）
- 拉長效果 2.5 倍

### 零信任防禦協定重構

#### 8 光點系統
- 8 個光點在領域的 8 個角
- 使用 `sector_360` 橢圓壓扁（參考護盾橢圓再小一半）
- 每個光點有向上垂直射線（裝飾用，金白閃爍）

#### 智能追蹤
- 敵人進入範圍：光點追向最近的未被追蹤怪物
- 目標死亡/離開：光點找下一個最近敵人或回到角落
- 移動速度：每秒 8 單位
- 移動範圍限制：不超出 8 角矩陣半徑

#### 顏色變化
- 平時（待機）：白色閃爍
- 追蹤敵人時：紅色閃爍

#### 傷害機制
- 傷害間隔：0.5 秒（原 0.2 秒）
- 1 單位傷害範圍
- 同樣的 8 角擴散爆炸效果

### 程式碼清理
- 移除 `_drawShieldActivateEffect` 舊函式
- 移除 `_flashShieldEffect` 舊函式
- 移除 `zeroTrustBeams` 改用 `zeroTrustPoints`

---

## v0.8.10a - 一般技能火花效果與程式碼清理

### 視覺效果

#### 一般主動技能打擊火花
- **靈魂渲染**：藍色（0x6699ff）打擊火花，4 條，方向性反彈
- **咒言幻象**：紫色（0xaa66ff）爆炸火花，360° 圓形擴散
- **疾光狙擊**：綠色（0x66ff66）打擊火花，5 條，光束方向反彈
- **靈魂統領護盾爆炸**：金色（0xffcc00）打擊火花，8 條，隨機方向（類似輪鋸）

#### 火花數量可調整
- `showHitSparkEffect` 新增 `count` 參數
- 進階技能使用 8 條（預設）
- 一般技能使用 4-5 條（較輕量）

### 程式碼清理

#### 移除舊版網格十字特效
- 移除 `flashWhiteCrossAt` 函數
- 移除 `flashCritCrossAt` 函數
- 移除 `flashWhiteCrossAtPositions` 函數
- 移除 `flashCritCrossAtPositions` 函數
- 清理約 250 行重複程式碼

---

## v0.8.9a - 特效系統完善與隨機性強化

### 特效系統

#### 兩種標準化火花效果
- **打擊火花** `showHitSparkEffect`：方向性反彈，線條從撞擊點向反彈方向飛出
- **爆炸火花** `showExplosionSparkEffect`：360度發散，線條從中心向外均勻飛散

#### 線條起點修正
- 修正 LINE 紋理中心點計算錯誤
- 線條尾端正確對齊撞擊點/爆炸中心
- 解決線條「反噴」交叉問題

#### 爆炸範圍擊中效果
- 技術美術大神：被炸到的怪物噴出紫色爆炸火花
- 完美像素審判：被炸到的怪物噴出青綠色爆炸火花
- 導彈爆炸：被炸到的怪物噴出橘色爆炸火花

### 隨機性強化

#### 火花參數隨機化
- 長度：0.6~1.4 倍隨機變化
- 寬度：0.7~1.3 倍隨機變化
- 角度抖動：打擊 ±14°、爆炸 ±17°
- 橫向偏移：打擊效果額外 ±0.15 單位隨機
- 飛行距離：打擊 1.2~2.5 單位、爆炸 0.9~1.4 倍
- 持續時間：打擊 280~420ms、爆炸 250~350ms

---

## v0.8.8a - 打擊火花效果標準化

### 性能優化

#### LINE 紋理物件池
- 新增 LINE 紋理專用物件池（80 個 sprites）
- 打擊火花效果使用物件池，避免頻繁創建/銷毀
- 線條動畫完成後自動回收到池中重複使用

### 視覺效果

#### 打擊火花效果標準化
- 新增 `showHitSparkEffect` 統一函數處理所有技能打擊效果
- 支援兩種模式：方向反彈模式、隨機散射模式
- 標準規格：8 條線條、長度 1.8 單位、寬度 36px、持續 350ms
- 反彈散射角度 ±30 度
- 起點往攻擊方向退後 0.5 單位，橫向隨機散佈防止交叉

#### 技能專屬打擊特效
- 燃燒的賽璐珞：藍色（0x4488ff）火花，靈魂渲染系
- 技術美術大神：紫色（0x9966ff）火花，方向反彈
- 次元向量疾劃：紅色（0xff4466）火花，方向反彈
- 輪鋸系列：金色（0xffcc00）火花，隨機散射
- 零信任防禦：金色/橘色火花，方向反彈

### 程式碼優化

#### 重複程式碼清理
- 移除各技能的獨立打擊效果程式碼
- 統一使用 `showHitSparkEffect` 函數
- 減少約 200 行重複程式碼

---

## v0.8.7a - 技能單位系統統一與暈眩修正

### 系統改進

#### 世界單位系統統一
- 所有技能距離比較統一使用世界單位（1 單位 = 10% 畫面高度）
- `distUnits = distPixels / unitSize` 統一轉換公式
- `monsterRadiusUnits = monster.definition.size * 0.5` 統一怪物半徑計算
- 修正多處單位混用導致的技能判定問題

#### 暈眩系統修正
- 修正暈眩順序：先暈眩再造成傷害（避免怪物死亡後無法暈眩存活者）
- 新增暈眩視覺效果：灰白色變色 + 停止 Q 彈動畫
- 技術美術大神：1 秒暈眩
- 完美像素審判：1 秒暈眩（新增）

### 視覺效果

#### 完美像素審判配色更新
- 主色改為青綠色（0x66ffcc），與疾光狙擊同色系
- 井字線、爆炸核心、光環、十字閃光統一青綠色
- 分身版爆炸效果同步更新

### Bug 修復

#### 分身輪鋸單位錯誤
- 修正軌道位置計算使用錯誤單位（orbitRadiusWorld → orbitRadiusPx）
- 修正碰撞偵測單位不一致問題

#### 分身技能修正
- 分身技美大神：加入怪物半徑判定、修正暈眩順序
- 分身完美像素：爆炸範圍修正為 3 單位（原 1.5 單位）、加入怪物半徑判定

---

## v0.8.6a - 分身系統修復

### Bug 修復

#### 分身重複移除問題
- 修復 `dismissPhantomById` 中重複呼叫 `splice` 導致分身陣列錯亂的問題
- 分身消失時正確清理輪鋸追蹤狀態

### 視覺效果

#### 分身生成/消失特效
- 使用 LINE 紋理重新設計特效
- 兩階段動畫：
  1. 小正方形光點膨脹到 0.5 單位（150ms）
  2. 向上延展拉長 3 倍、變細、淡出（250ms）
- 生成用亮紫色（0xbb88ff）、消失用暗紫色（0x9966ff）

---

## v0.8.5a - 視覺效果優化與分身修正

### 視覺效果改進

#### LINE 紋理統一
- 技術美術大神光束改用 LINE 紋理（寬度 48px）
- 零信任防禦光束改用 LINE 紋理（閃光 40px、持續 16px）
- 爆發的影視特效導彈與爆炸線改用 LINE 紋理（寬度 32px）
- 次元向量疾劃斬擊線改用 LINE 紋理（寬度 48px，6 倍）
- 完美像素審判井字線改用 LINE 紋理（寬度 16px）
- 幻影分身彈射射線改用 LINE 紋理（寬度 24px）

#### 其他視覺調整
- 技術美術大神 CUT IN 主色改為藍紫色（0x9966ff）
- 零信任八角爆炸改為隨機角度、範圍縮小至 2 單位
- 輪鋸內圈從八角形改為圓形
- 修正 sector_360 紋理載入問題，改用 CIRCLE 紋理

### 幻影迭代模式改進

#### 全局彈射射線
- 彈射射線改為全局計時器（0.5 秒一次）
- 射線在本尊與所有分身之間來回彈射
- 第一個分身出現時啟動，最後一個分身消失時停止

#### 技能升級邏輯修正
- 升級同一技能時不再中斷現有分身、不重置冷卻
- 只有首次取得或切換技能時才會立即觸發
- 冷卻時間從 20 秒改為 15 秒

### 遊戲體驗改進

#### CUT IN 暫停移除
- 選完技能卡後立即恢復遊戲
- CUT IN 動畫期間遊戲繼續運行

---

## v0.8.0a - 標題畫面視覺強化

### 新增功能

#### 標題畫面視覺效果
- 新增 NeroS 角色圖片（右側，150% 畫面高度）
- 新增 Cube 圖片（左側，70% 畫面高度）
- 新增紫色光暈圖片（200% 畫面高度，電流閃爍效果）

#### 動畫效果
- Cube 呼吸縮放動畫（3% 尺寸變化）
- Cube 上下飄動動畫（2% 畫面高度）
- NeroS 呼吸縮放動畫（1.5% 尺寸變化）
- 光暈不規則電流閃爍（隨機縮放、透明度、速度）

### 改進

#### 幻影分身技能
- 分身施放絕對邏輯防禦時產生 3 個輪鋸
- 輪鋸公轉速度為玩家的 2 倍（1 秒一圈）

#### 技術美術大神
- 癱瘓時間從 0.5 秒增加至 1 秒

#### 進階技能 CUT IN
- 進階技能升級時顯示「Lv.X」而非「MAX」

### 視覺調整
- 背景亮度調整為 50%
- NeroS 亮度調整為 75%

---

## v0.7.3a - 幻影迭代模式

### 新增功能

#### 進階技能：幻影迭代模式
- **組合**：咒言幻象（遊戲先知）+ AI 賦能強化
- **冷卻**：15 秒（受冷卻減少影響）
- **效果**：召喚半透明紫色影分身
- **持續時間**：技能等級/5 + 1 秒
- **分身行為**：
  - 每秒施放一個隨機進階技能（燃燒的賽璐珞、技術美術大神、完美像素審判、爆發的影視特效）
  - 施放後以 4 倍速移動到玩家周圍 1~3 單位內的隨機位置
  - 移動時產生殘影效果
- **嘲諷**：怪物會優先攻擊分身而非玩家
- **多分身**：高等級時可能同時存在多個分身

### 改進

#### 進階技能選擇規則
- 已裝備的進階技能必定出現在選項中

---

## v0.7.2a - 進階技能強化與視覺優化

### 新增功能

#### 進階技能：完美像素審判
- **組合**：疾光狙擊（超級導演）+ 視網膜增強模組
- **效果**：每 3 秒繪製井字線，4 個焦點隨機順序爆炸
- **爆炸間隔**：1 秒內完成 4 次爆炸

#### 進階技能：爆發的影視特效
- **組合**：疾光狙擊（超級導演）+ AI 賦能強化
- **效果**：每 3.5 秒發射 20 枚追蹤導彈
- **導彈行為**：隨機方向飛出 2 單位後，直衝最近敵人
- **導彈造型**：細長漸層矩形，俯衝時拉長 3 倍

#### 絕對邏輯防禦：輪鋸飛出
- 護盾重新填充時，剩餘輪鋸向外螺旋飛出
- 飛出時持續繞角色旋轉（1.5 圈）
- 飛行過程中可造成傷害

### 改進

#### 技能選擇面板
- ASD 按鍵提示移至卡片外下方

#### 技術美術大神視覺效果
- 光線從遊戲區頂端落下至目標點
- 更細更銳利的光束（2px 核心 + 4px 光暈）
- 新增殘影淡出效果

---

## v0.7.1a - 進階技能優化

### 新增功能

#### 進階技能：絕對邏輯防禦
- **組合**：靈魂統領（架構師）+ 精神同步率強化
- **效果**：有護盾時產生輪鋸繞角色旋轉
- **輪鋸數量**：滿盾 6 個，按護盾比例減少
- **旋轉速度**：2 秒一圈
- **撞敵消耗**：每隻怪物消耗 2% 最大護盾

### 改進

#### 卡片文字排版優化
- 新增 `CARD_TEXT_PADDING` 常數控制文字邊距
- 文字自動換行不超出卡片邊界
- 電腦版與手機版分開處理字體大小
- 文字過長時自動縮小字體

#### 技能資訊窗格
- 新增「絕對邏輯防禦」資訊顯示（輪鋸數量、旋轉速度、耗盾量、當前護盾）
- 新增「技術美術大神」資訊顯示（傷害、範圍、癱瘓時間、冷卻）

### 修正

#### 進階技能解鎖條件
- 修正進階技能只需持有基礎技能就能解鎖的問題
- 現在需要基礎技能達到 MAX 等級才能解鎖進階技能

---

## v0.7.0a - 進階技能系統

### 新增功能

#### 進階技能系統
- 新增進階技能機制：當持有特定基礎技能組合時，可解鎖進階技能
- 進階技能等級無上限，可持續升級強化
- 技能選擇時，若一般技能選項不足 3 個，會用可解鎖的進階技能填補空位

#### 進階技能：燃燒的賽璐珞
- **組合**：靈魂渲染（動畫大師）+ 鈦金屬賽博肝臟
- **CUT IN**：「你選擇成為傳統手繪動畫師、逐幀動畫師」
- **冷卻**：2 秒
- **效果**：發動時消耗 10 HP，以角色為中心旋轉一圈 30° 扇形攻擊
- **傷害**：（角色等級 + 技能等級）× 傷害單位

#### 進階技能：技術美術大神
- **組合**：咒言幻象（遊戲先知）+ AI 賦能強化
- **CUT IN**：「左手寫 Code，右手畫圖，一人成軍的遊戲開發者」
- **冷卻**：1 秒
- **效果**：每秒在角色周圍 5 單位隨機地點射下光線，產生 3 單位爆炸範圍
- **傷害**：（角色等級 + 技能等級）× 傷害單位
- **特殊**：命中敵人癱瘓 0.5 秒（停止移動和攻擊）

#### 怪物暈眩系統
- 新增怪物暈眩/癱瘓機制
- 暈眩中的怪物停止移動和攻擊
- 支援暈眩時間疊加（取較長的結束時間）

### 技能選擇邏輯調整
- 優先顯示一般技能（2 主動 + 1 被動）
- 若一般技能不足 3 個，用進階技能填充空位
- 混合顯示時，進階技能卡片有金色邊框和「ADVANCED」標籤

---

## v0.6.3a 及更早版本
- 基礎技能系統
- 怪物系統
- 經驗值與等級系統
- HP 與護盾系統
